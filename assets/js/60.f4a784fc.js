(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{534:function(t,s,n){"use strict";n.r(s);var a=n(19),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"生命不息-折腾不止"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#生命不息-折腾不止"}},[t._v("#")]),t._v(" 生命不息，折腾不止")]),t._v(" "),n("ul",[n("li",[t._v("还是没忍住捣腾了下Travis CI的持续集成，一开始因为墙的问题，node-sass下不来，折腾挺久，坑啊！！")]),t._v(" "),n("li",[t._v("解决办法就是cnpm！！")]),t._v(" "),n("li",[t._v("持续集成Coding和Github"),n("br"),t._v(" "),n("br"),t._v("\n.travis.yml的配置文件如下")])]),t._v(" "),n("div",{staticClass:"language-yaml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("language")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" node_js\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("node_js")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" stable\n\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cache")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("directories")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" node_modules "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 缓存不经常更改的内容")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("before_install")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" export TZ='Asia/Shanghai' "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 更改时区")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## S: Build Lifecycle")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("install")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" npm install cnpm "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("g "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("registry=https"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//registry.npm.taobao.org\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cnpm install\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("##before_script:")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## - npm install -g gulp")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" hexo clean  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("##清除")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" hexo g "),n("span",{pre:!0,attrs:{class:"token important"}},[t._v("&&")]),t._v(" gulp  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("##生成")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("after_script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git clone https"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//$"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("GH_REF"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" .github_git  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## GH_REF是下面配置的GitHub仓库地址")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cd .github_git\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git checkout master\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cd ../\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" mv .github_git/.git/ ./public/   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 这一步之前的操作是为了保留master分支的提交记录，不然每次git init的话只有1条commit")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cd ./public\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("##  - git init")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(' git config user.name "Gustave"\n  '),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(' git config user.email "1014016816@qq.com"\n  '),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git add .\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git commit "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('m "Travis CI Auto Builder For Github Pages at `date +"%Y'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("%m"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("%d %H"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v('%M"`"  '),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 提交记录包含时间 跟上面更改时区配合")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## GitHub")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git push "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("force "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('quiet "https'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//$"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("GH_TOKEN"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("@$"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("GH_REF"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v('" master'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("master\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" rm "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("fr .git/\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cd ../\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git clone https"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//$"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("CO_REF"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" .coding_git  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## CO_REF是最下面配置Coding的仓库地址")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cd .coding_git\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git checkout master\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cd ../\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" mv .coding_git/.git/ ./public/   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 这一步之前的操作是为了保留master分支的提交记录，不然每次git init的话只有1条commit")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cd ./public\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(' git config user.name "Gustave"\n  '),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(' git config user.email "1014016816@qq.com"\n  '),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git add .\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git commit "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('m "Travis CI Auto Builder For Coding Pages at `date +"%Y'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("%m"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("%d %H"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v('%M"`"  '),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 提交记录包含时间 跟上面更改时区配合")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## Coding Pages")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git push "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("force "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('quiet "https'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//kikfan"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("CO_TOKEN"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("@$"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("CO_REF"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v('" master'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("master\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## E: Build LifeCycle")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("branches")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("only")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" source\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("global")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("GH_REF")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" github.com/gustave001/gustave001.github.io.git\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("CO_REF")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" git.coding.net/kikfan/kikfan.coding.me.git\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## configure notifications (email, IRC, campfire etc)")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## please update this section to your needs!")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## https://docs.travis-ci.com/user/notifications/")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("notifications")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("email")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 1014016816@qq.com\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("on_success")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" change\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("on_failure")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" always\n")])])]),n("ul",[n("li",[t._v("持续集成了就是方便，哈哈")]),t._v(" "),n("li",[t._v("添加Coding Pages试试")]),t._v(" "),n("li",[t._v("百度爬虫啊，心累!")]),t._v(" "),n("li",[t._v("Git commit的问题也是心累")]),t._v(" "),n("li",[t._v("全都保留提交记录，舒服！！")]),t._v(" "),n("li",[t._v("Bingo,问题都铲除了就是爽")]),t._v(" "),n("li",[t._v("hexo g -d呢,摸不着头脑")]),t._v(" "),n("li",[t._v("双十一买什么,头疼")]),t._v(" "),n("li",[t._v("手机编辑试试")]),t._v(" "),n("li",[t._v("添加了时间,还是挺舒服的")]),t._v(" "),n("li",[t._v("摊上单词真是倒了八辈子血霉了")]),t._v(" "),n("li",[t._v("日常推一推,("),n("em",[t._v("^_^")]),t._v(")")])])])}),[],!1,null,null,null);s.default=e.exports}}]);