<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>redis | kikfan</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css">
    <meta name="description" content="kikfan">
    
    <link rel="preload" href="/assets/css/2.styles.051e8285.css" as="style"><link rel="preload" href="/assets/js/app.27b2d4ce.js" as="script"><link rel="preload" href="/assets/js/4.9a9f6078.js" as="script"><link rel="preload" href="/assets/js/53.012a446d.js" as="script"><link rel="prefetch" href="/assets/js/0.e4e7bdd7.js"><link rel="prefetch" href="/assets/js/1.fa961c29.js"><link rel="prefetch" href="/assets/js/10.731ee775.js"><link rel="prefetch" href="/assets/js/100.8f4b7cc5.js"><link rel="prefetch" href="/assets/js/101.a083f158.js"><link rel="prefetch" href="/assets/js/102.2c3648c3.js"><link rel="prefetch" href="/assets/js/103.f00d7dd8.js"><link rel="prefetch" href="/assets/js/104.0c414ab7.js"><link rel="prefetch" href="/assets/js/105.683675df.js"><link rel="prefetch" href="/assets/js/106.733b71a1.js"><link rel="prefetch" href="/assets/js/107.16837d98.js"><link rel="prefetch" href="/assets/js/108.28ae623b.js"><link rel="prefetch" href="/assets/js/109.a702f251.js"><link rel="prefetch" href="/assets/js/11.d7b558c8.js"><link rel="prefetch" href="/assets/js/110.74980c24.js"><link rel="prefetch" href="/assets/js/111.bf05772f.js"><link rel="prefetch" href="/assets/js/112.7f823ce5.js"><link rel="prefetch" href="/assets/js/113.4145bf66.js"><link rel="prefetch" href="/assets/js/114.4466ba9a.js"><link rel="prefetch" href="/assets/js/115.7066e3ba.js"><link rel="prefetch" href="/assets/js/116.dc1f78b7.js"><link rel="prefetch" href="/assets/js/117.88fe74db.js"><link rel="prefetch" href="/assets/js/118.e37e03b4.js"><link rel="prefetch" href="/assets/js/119.d7e4f790.js"><link rel="prefetch" href="/assets/js/12.42f2fa87.js"><link rel="prefetch" href="/assets/js/13.41e1d4b5.js"><link rel="prefetch" href="/assets/js/14.5b7e8e37.js"><link rel="prefetch" href="/assets/js/15.d9e0fc06.js"><link rel="prefetch" href="/assets/js/16.87dd9a3b.js"><link rel="prefetch" href="/assets/js/17.d120ed17.js"><link rel="prefetch" href="/assets/js/18.59184376.js"><link rel="prefetch" href="/assets/js/19.39139a03.js"><link rel="prefetch" href="/assets/js/20.2d9ec408.js"><link rel="prefetch" href="/assets/js/21.6e654bc3.js"><link rel="prefetch" href="/assets/js/22.1a060135.js"><link rel="prefetch" href="/assets/js/23.dcf0bfcc.js"><link rel="prefetch" href="/assets/js/24.9b4a4b3e.js"><link rel="prefetch" href="/assets/js/25.f57f3c65.js"><link rel="prefetch" href="/assets/js/26.fc43a3ae.js"><link rel="prefetch" href="/assets/js/27.e9aaf732.js"><link rel="prefetch" href="/assets/js/28.6e1886c7.js"><link rel="prefetch" href="/assets/js/29.ff720b7d.js"><link rel="prefetch" href="/assets/js/30.297554f4.js"><link rel="prefetch" href="/assets/js/31.fc02f056.js"><link rel="prefetch" href="/assets/js/32.978c9766.js"><link rel="prefetch" href="/assets/js/33.faa483ef.js"><link rel="prefetch" href="/assets/js/34.7f3cc871.js"><link rel="prefetch" href="/assets/js/35.62b9a752.js"><link rel="prefetch" href="/assets/js/36.c08848fc.js"><link rel="prefetch" href="/assets/js/37.59f685b7.js"><link rel="prefetch" href="/assets/js/38.c1588f41.js"><link rel="prefetch" href="/assets/js/39.fdb35fe6.js"><link rel="prefetch" href="/assets/js/40.65505803.js"><link rel="prefetch" href="/assets/js/41.54da323c.js"><link rel="prefetch" href="/assets/js/42.45bbba91.js"><link rel="prefetch" href="/assets/js/43.1f36637d.js"><link rel="prefetch" href="/assets/js/44.d7d8a539.js"><link rel="prefetch" href="/assets/js/45.7d764f0b.js"><link rel="prefetch" href="/assets/js/46.3bad6567.js"><link rel="prefetch" href="/assets/js/47.2946a535.js"><link rel="prefetch" href="/assets/js/48.85cbb854.js"><link rel="prefetch" href="/assets/js/49.315a2781.js"><link rel="prefetch" href="/assets/js/5.60a71eda.js"><link rel="prefetch" href="/assets/js/50.58a11a9c.js"><link rel="prefetch" href="/assets/js/51.ea33dd6c.js"><link rel="prefetch" href="/assets/js/52.c9f47820.js"><link rel="prefetch" href="/assets/js/54.2c4f1849.js"><link rel="prefetch" href="/assets/js/55.2a967be9.js"><link rel="prefetch" href="/assets/js/56.2d46c0a0.js"><link rel="prefetch" href="/assets/js/57.c8880e0a.js"><link rel="prefetch" href="/assets/js/58.a6b007f9.js"><link rel="prefetch" href="/assets/js/59.97b9b7e5.js"><link rel="prefetch" href="/assets/js/6.afcd84ec.js"><link rel="prefetch" href="/assets/js/60.f4a784fc.js"><link rel="prefetch" href="/assets/js/61.05eed8fc.js"><link rel="prefetch" href="/assets/js/62.d95be5f8.js"><link rel="prefetch" href="/assets/js/63.c0d0a152.js"><link rel="prefetch" href="/assets/js/64.f74c6626.js"><link rel="prefetch" href="/assets/js/65.4872ba36.js"><link rel="prefetch" href="/assets/js/66.3846d75c.js"><link rel="prefetch" href="/assets/js/67.5d3c513c.js"><link rel="prefetch" href="/assets/js/68.4c28dad7.js"><link rel="prefetch" href="/assets/js/69.23fa6377.js"><link rel="prefetch" href="/assets/js/7.69deb300.js"><link rel="prefetch" href="/assets/js/70.a1673575.js"><link rel="prefetch" href="/assets/js/71.53175f3c.js"><link rel="prefetch" href="/assets/js/72.699361e6.js"><link rel="prefetch" href="/assets/js/73.683bacf8.js"><link rel="prefetch" href="/assets/js/74.d27b950a.js"><link rel="prefetch" href="/assets/js/75.30cfcf8c.js"><link rel="prefetch" href="/assets/js/76.7115ba1f.js"><link rel="prefetch" href="/assets/js/77.61f7aec4.js"><link rel="prefetch" href="/assets/js/78.d9b71b38.js"><link rel="prefetch" href="/assets/js/79.8df96305.js"><link rel="prefetch" href="/assets/js/8.b5d41094.js"><link rel="prefetch" href="/assets/js/80.caefa481.js"><link rel="prefetch" href="/assets/js/81.fbe7f1af.js"><link rel="prefetch" href="/assets/js/82.8a0c0e86.js"><link rel="prefetch" href="/assets/js/83.77f553eb.js"><link rel="prefetch" href="/assets/js/84.9d3058ad.js"><link rel="prefetch" href="/assets/js/85.d66493d7.js"><link rel="prefetch" href="/assets/js/86.d82b3465.js"><link rel="prefetch" href="/assets/js/87.ff69dfdc.js"><link rel="prefetch" href="/assets/js/88.db8a809d.js"><link rel="prefetch" href="/assets/js/89.dbae01c0.js"><link rel="prefetch" href="/assets/js/9.42dfa068.js"><link rel="prefetch" href="/assets/js/90.ac501b95.js"><link rel="prefetch" href="/assets/js/91.de4c7a0e.js"><link rel="prefetch" href="/assets/js/92.689f4272.js"><link rel="prefetch" href="/assets/js/93.17e1c4ae.js"><link rel="prefetch" href="/assets/js/94.1978b8c9.js"><link rel="prefetch" href="/assets/js/95.fb0afeb1.js"><link rel="prefetch" href="/assets/js/96.8b6541d8.js"><link rel="prefetch" href="/assets/js/97.793aa5c6.js"><link rel="prefetch" href="/assets/js/98.62b7c58e.js"><link rel="prefetch" href="/assets/js/99.54020815.js">
    <link rel="stylesheet" href="/assets/css/2.styles.051e8285.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">kikfan</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/java/" class="nav-link">
  Java
</a></div><div class="nav-item"><a href="/idea/" class="nav-link">
  IDEA
</a></div><div class="nav-item"><a href="/devops/" class="nav-link">
  DevOps
</a></div><div class="nav-item"><a href="/web/" class="nav-link">
  Web
</a></div><div class="nav-item"><a href="/curiousness/" class="nav-link router-link-active">
  好奇尚异
</a></div><div class="nav-item"><a href="/long-road/" class="nav-link">
  道阻且长
</a></div><div class="nav-item"><a href="/step-back/" class="nav-link">
  海阔天空
</a></div><div class="nav-item"><a href="/experience/" class="nav-link">
  吃堑长智
</a></div><div class="nav-item"><a href="/tools/" class="nav-link">
  Tools
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/java/" class="nav-link">
  Java
</a></div><div class="nav-item"><a href="/idea/" class="nav-link">
  IDEA
</a></div><div class="nav-item"><a href="/devops/" class="nav-link">
  DevOps
</a></div><div class="nav-item"><a href="/web/" class="nav-link">
  Web
</a></div><div class="nav-item"><a href="/curiousness/" class="nav-link router-link-active">
  好奇尚异
</a></div><div class="nav-item"><a href="/long-road/" class="nav-link">
  道阻且长
</a></div><div class="nav-item"><a href="/step-back/" class="nav-link">
  海阔天空
</a></div><div class="nav-item"><a href="/experience/" class="nav-link">
  吃堑长智
</a></div><div class="nav-item"><a href="/tools/" class="nav-link">
  Tools
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>好奇尚异</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/curiousness/" aria-current="page" class="sidebar-link">简介</a></li><li><a href="/curiousness/Elasticsearch.html" class="sidebar-link">Elasticsearch</a></li><li><a href="/curiousness/IDEA插件开发小试牛刀.html" class="sidebar-link">IDEA插件开发小试牛刀</a></li><li><a href="/curiousness/Kubernates-k8s.html" class="sidebar-link">Kubernates-k8s</a></li><li><a href="/curiousness/Redis-Sentinel高可用.html" class="sidebar-link">Redis-Sentinel高可用</a></li><li><a href="/curiousness/SearchQuickByShortcut.html" class="sidebar-link">SearchQuickByShortcut</a></li><li><a href="/curiousness/bitmap-有点意思.html" class="sidebar-link">bitmap-有点意思</a></li><li><a href="/curiousness/frp实现内网穿透.html" class="sidebar-link">frp实现内网穿透</a></li><li><a href="/curiousness/harbor镜像自动清理脚本.html" class="sidebar-link">harbor镜像自动清理脚本</a></li><li><a href="/curiousness/jenkins配置及使用.html" class="sidebar-link">jenkins配置及使用</a></li><li><a href="/curiousness/openvpn-frp实现内网穿透远程办公.html" class="sidebar-link">openvpn-frp实现内网穿透远程办公</a></li><li><a href="/curiousness/openvpn的ip切换.html" class="sidebar-link">openvpn的ip切换</a></li><li><a href="/curiousness/redis配置及命令大全.html" class="active sidebar-link">redis配置及命令大全</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/curiousness/redis配置及命令大全.html#redis" class="sidebar-link">redis</a></li><li class="sidebar-sub-header"><a href="/curiousness/redis配置及命令大全.html#pom依赖" class="sidebar-link">pom依赖</a></li><li class="sidebar-sub-header"><a href="/curiousness/redis配置及命令大全.html#redis-properties" class="sidebar-link">redis.properties</a></li><li class="sidebar-sub-header"><a href="/curiousness/redis配置及命令大全.html#applicationcontext-redis-xml" class="sidebar-link">applicationContext-redis.xml</a></li><li class="sidebar-sub-header"><a href="/curiousness/redis配置及命令大全.html#redis操作命令" class="sidebar-link">Redis操作命令</a></li><li class="sidebar-sub-header"><a href="/curiousness/redis配置及命令大全.html#连接操作相关的命令" class="sidebar-link">连接操作相关的命令</a></li><li class="sidebar-sub-header"><a href="/curiousness/redis配置及命令大全.html#服务端相关命令" class="sidebar-link">服务端相关命令</a></li><li class="sidebar-sub-header"><a href="/curiousness/redis配置及命令大全.html#发布订阅相关命令" class="sidebar-link">发布订阅相关命令</a></li><li class="sidebar-sub-header"><a href="/curiousness/redis配置及命令大全.html#对-key-操作的命令" class="sidebar-link">对 KEY 操作的命令</a></li><li class="sidebar-sub-header"><a href="/curiousness/redis配置及命令大全.html#对-string-操作的命令" class="sidebar-link">对 String 操作的命令</a></li><li class="sidebar-sub-header"><a href="/curiousness/redis配置及命令大全.html#对-list-操作的命令" class="sidebar-link">对 List 操作的命令</a></li><li class="sidebar-sub-header"><a href="/curiousness/redis配置及命令大全.html#对-set-操作的命令" class="sidebar-link">对 Set 操作的命令</a></li><li class="sidebar-sub-header"><a href="/curiousness/redis配置及命令大全.html#对-hash-操作的命令" class="sidebar-link">对 Hash 操作的命令</a></li><li class="sidebar-sub-header"><a href="/curiousness/redis配置及命令大全.html#redis-sentinel" class="sidebar-link">Redis Sentinel</a></li></ul></li><li><a href="/curiousness/redis集群.html" class="sidebar-link">redis集群</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="redis"><a href="#redis" class="header-anchor">#</a> redis</h2> <p>最近略忙，都没时间搞了，冒个泡<br>
我的自信和自负皆源自于此，如此一直下去就可以了<br>
即将更新，redis！！</p> <p>redis连踩两天坑，终于搞定！！爽</p> <h2 id="pom依赖"><a href="#pom依赖" class="header-anchor">#</a> pom依赖</h2> <ul><li>由于spring版本的问题，踩了几多坑，找到合适的版本</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.data<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-data-redis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.8.11.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>biz.paluch.redis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>lettuce<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.2.0.Final<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="redis-properties"><a href="#redis-properties" class="header-anchor">#</a> redis.properties</h2> <ul><li>使用的哨兵模式</li></ul> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token attr-name">redis.nodes</span><span class="token punctuation">=</span><span class="token attr-value">192.168.213.129:26379,192.168.213.129:26380,192.168.213.129:26381</span>
<span class="token attr-name">redis.masterName</span><span class="token punctuation">=</span><span class="token attr-value">mymaster</span>
<span class="token attr-name">redis.password</span><span class="token punctuation">=</span>
<span class="token attr-name">redis.maxTotal</span><span class="token punctuation">=</span><span class="token attr-value">10000</span>
<span class="token attr-name">redis.maxIdle</span><span class="token punctuation">=</span><span class="token attr-value">100</span>
<span class="token attr-name">redis.minIdle</span><span class="token punctuation">=</span><span class="token attr-value">50</span>
<span class="token attr-name">redis.timeout</span><span class="token punctuation">=</span><span class="token attr-value">30000</span>
<span class="token attr-name">redis.database</span><span class="token punctuation">=</span><span class="token attr-value">6</span>
</code></pre></div><h2 id="applicationcontext-redis-xml"><a href="#applicationcontext-redis-xml" class="header-anchor">#</a> applicationContext-redis.xml</h2> <ul><li>使用lettuce操作redis</li> <li>更改了序列化方式，可以直接查看redis里的数据</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code>
<span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>jee</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/jee<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>tx</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/tx<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>mvc</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/mvc<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/context<span class="token punctuation">&quot;</span></span>
	<span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.1.xsd
	                    http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.1.xsd 
	                    http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-3.0.xsd 
	                    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.1.xsd
	                    http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.1.xsd <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>


    <span class="token comment">&lt;!--连接池配置--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>defaultLettucePool<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.data.redis.connection.lettuce.DefaultLettucePool<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sentinelConfiguration<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lettuceSentinelConfiguration<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>poolConfig<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>genericObjectPoolConfig<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--common-pool2线程池配置--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>genericObjectPoolConfig<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.apache.commons.pool2.impl.GenericObjectPoolConfig<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>maxIdle<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${redis.maxIdle}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>minIdle<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${redis.minIdle}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>maxTotal<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${redis.maxTotal}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 其他相关配置 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--哨兵集群信息配置--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lettuceSentinelConfiguration<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.data.redis.connection.RedisSentinelConfiguration<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>master<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${redis.masterName}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sentinelHostAndPorts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${redis.nodes}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lettuceConnectionFactory<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--注销掉的部分为spring-data-redis2.0以下的版本配置的方式--&gt;</span>
        <span class="token comment">&lt;!--&lt;constructor-arg name=&quot;sentinelConfiguration&quot; ref=&quot;lettuceSentinelConfiguration&quot;/&gt;--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pool<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>defaultLettucePool<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>database<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${redis.database}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!--spring-data-redis2.0以上建议获取的方式--&gt;</span>
        <span class="token comment">&lt;!--&lt;constructor-arg name=&quot;standaloneConfig&quot; ref=&quot;redisStandaloneConfiguration&quot;&gt;&lt;/constructor-arg&gt;--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>


    <span class="token comment">&lt;!--手动设置 key  与 value的序列化方式--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>keySerializer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.data.redis.serializer.StringRedisSerializer<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>valueSerializer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token comment">&lt;!--配置jedis模板  --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&quot;</span>redisTemplate<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.data.redis.core.RedisTemplate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>connectionFactory<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lettuceConnectionFactory<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>keySerializer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>keySerializer<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>valueSerializer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>valueSerializer<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hashKeySerializer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>keySerializer<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hashValueSerializer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>valueSerializer<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--也可以StringRedisTemplate  专注于String的操作  --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stringRedisTemplate<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.data.redis.core.StringRedisTemplate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--&lt;property name=&quot;connectionFactory&quot; ref=&quot;jedisConnectionFactory&quot;&gt;&lt;/property&gt;--&gt;</span>
        <span class="token comment">&lt;!--在StringRedisTemplate与redisTemplate不同,可以直接造构造器中传入ConnectionFactory--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>connectionFactory<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lettuceConnectionFactory<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>keySerializer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>keySerializer<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>valueSerializer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>valueSerializer<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hashKeySerializer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>keySerializer<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hashValueSerializer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>valueSerializer<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h2 id="redis操作命令"><a href="#redis操作命令" class="header-anchor">#</a> Redis操作命令</h2> <h2 id="连接操作相关的命令"><a href="#连接操作相关的命令" class="header-anchor">#</a> 连接操作相关的命令</h2> <ul><li>ping：测试连接是否存活如果正常会返回 pong</li> <li>echo：打印</li> <li>select：切换到指定的数据库，数据库索引号 index 用数字值指定，以 0 作为起始索引值</li> <li>quit：关闭连接（connection）</li> <li>auth：简单密码认证</li></ul> <h2 id="服务端相关命令"><a href="#服务端相关命令" class="header-anchor">#</a> 服务端相关命令</h2> <ul><li>time：返回当前服务器时间</li> <li>client list: 返回所有连接到服务器的客户端信息和统计数据 参见 http://redisdoc.com/server/client_list.html</li> <li>client kill ip:port：关闭地址为 ip:port 的客户端</li> <li>save：将数据同步保存到磁盘</li> <li>bgsave：将数据异步保存到磁盘</li> <li>lastsave：返回上次成功将数据保存到磁盘的Unix时戳</li> <li>shundown：将数据同步保存到磁盘，然后关闭服务</li> <li>info：提供服务器的信息和统计</li> <li>config resetstat：重置 info 命令中的某些统计数据</li> <li>config get：获取配置文件信息</li> <li>config set：动态地调整 Redis 服务器的配置(configuration)而无须重启，可以修改的配置参数可以使用命令 CONFIG GET * 来列出</li> <li>config rewrite：Redis 服务器时所指定的 redis.conf 文件进行改写</li> <li>monitor：实时转储收到的请求</li> <li>slaveof：改变复制策略设置</li></ul> <h2 id="发布订阅相关命令"><a href="#发布订阅相关命令" class="header-anchor">#</a> 发布订阅相关命令</h2> <ul><li>psubscribe：订阅一个或多个符合给定模式的频道 例如 psubscribe news.* tweet.*</li> <li>publish：将信息 message 发送到指定的频道 channel 例如 publish msg &quot;good morning&quot;</li> <li>pubsub channels：列出当前的活跃频道 例如 PUBSUB CHANNELS news.i*</li> <li>pubsub numsub：返回给定频道的订阅者数量 例如 PUBSUB NUMSUB news.it news.internet news.sport news.music</li> <li>pubsub numpat：返回客户端订阅的所有模式的数量总和</li> <li>punsubscribe：指示客户端退订所有给定模式。</li> <li>subscribe：订阅给定的一个或多个频道的信息。例如 subscribe msg chat_room</li> <li>unsubscribe：指示客户端退订给定的频道。</li></ul> <h2 id="对-key-操作的命令"><a href="#对-key-操作的命令" class="header-anchor">#</a> 对 KEY 操作的命令</h2> <ul><li>exists(key)：确认一个 key 是否存在</li> <li>del(key)：删除一个 key</li> <li>type(key)：返回值的类型</li> <li>keys(pattern)：返回满足给定 pattern 的所有 key</li> <li>randomkey：随机返回 key 空间的一个</li> <li>keyrename(oldname, newname)：重命名 key</li> <li>dbsize：返回当前数据库中 key 的数目</li> <li>expire：设定一个 key 的活动时间（s）</li> <li>ttl：获得一个 key 的活动时间</li> <li>move(key, dbindex)：移动当前数据库中的 key 到 dbindex 数据库</li> <li>flushdb：删除当前选择数据库中的所有 key</li> <li>flushall：删除所有数据库中的所有 key</li></ul> <h2 id="对-string-操作的命令"><a href="#对-string-操作的命令" class="header-anchor">#</a> 对 String 操作的命令</h2> <ul><li>set(key, value)：给数据库中名称为 key 的 string 赋予值 value</li> <li>get(key)：返回数据库中名称为 key 的 string 的 value</li> <li>getset(key, value)：给名称为 key 的 string 赋予上一次的 value</li> <li>mget(key1, key2,…, key N)：返回库中多个 string 的 value</li> <li>setnx(key, value)：添加 string，名称为 key，值为 value</li> <li>setex(key, time, value)：向库中添加 string，设定过期时间 time</li> <li>mset(key N, value N)：批量设置多个 string 的值</li> <li>msetnx(key N, value N)：如果所有名称为 key i 的 string 都不存在</li> <li>incr(key)：名称为 key 的 string 增 1 操作</li> <li>incrby(key, integer)：名称为 key 的 string 增加 integer</li> <li>decr(key)：名称为 key 的 string 减 1 操作</li> <li>decrby(key, integer)：名称为 key 的 string 减少 integer</li> <li>append(key, value)：名称为 key 的 string 的值附加 value</li> <li>substr(key, start, end)：返回名称为 key 的 string 的 value 的子串</li></ul> <h2 id="对-list-操作的命令"><a href="#对-list-操作的命令" class="header-anchor">#</a> 对 List 操作的命令</h2> <ul><li>rpush(key, value)：在名称为 key 的 list 尾添加一个值为 value 的元素</li> <li>lpush(key, value)：在名称为 key 的 list 头添加一个值为 value 的元素</li> <li>llen(key)：返回名称为 key 的 list 的长度</li> <li>lrange(key, start, end)：返回名称为 key 的 list 中 start 至 end 之间的元素</li> <li>ltrim(key, start, end)：截取名称为 key 的 list</li> <li>lindex(key, index)：返回名称为 key 的 list 中 index 位置的元素</li> <li>lset(key, index, value)：给名称为 key 的 list 中 index 位置的元素赋值</li> <li>lrem(key, count, value)：删除 count 个 key 的 list 中值为 value 的元素</li> <li>lpop(key)：返回并删除名称为 key 的 list 中的首元素</li> <li>rpop(key)：返回并删除名称为 key 的 list 中的尾元素</li> <li>blpop(key1, key2,… key N, timeout)：lpop 命令的 block 版本。</li> <li>brpop(key1, key2,… key N, timeout)：rpop 的 block 版本。</li> <li>rpoplpush(srckey, dstkey)：返回并删除名称为 srckey 的 list 的尾元素，并将该元素添加到名称为 dstkey 的 list 的头部</li></ul> <h2 id="对-set-操作的命令"><a href="#对-set-操作的命令" class="header-anchor">#</a> 对 Set 操作的命令</h2> <ul><li>sadd(key, member)：向名称为 key 的 set 中添加元素 member</li> <li>srem(key, member) ：删除名称为 key 的 set 中的元素 member</li> <li>spop(key) ：随机返回并删除名称为 key 的 set 中一个元素</li> <li>smove(srckey, dstkey, member) ：移到集合元素</li> <li>scard(key) ：返回名称为 key 的 set 的基数</li> <li>sismember(key, member) ：member 是否是名称为 key 的 set 的元素</li> <li>sinter(key1, key2,…key N) ：求交集</li> <li>sinterstore(dstkey, (keys)) ：求交集并将交集保存到 dstkey 的集合</li> <li>sunion(key1, (keys)) ：求并集</li> <li>sunionstore(dstkey, (keys)) ：求并集并将并集保存到 dstkey 的集合</li> <li>sdiff(key1, (keys)) ：求差集</li> <li>sdiffstore(dstkey, (keys)) ：求差集并将差集保存到 dstkey 的集合</li> <li>smembers(key) ：返回名称为 key 的 set 的所有元素</li> <li>srandmember(key) ：随机返回名称为 key 的 set 的一个元素</li></ul> <h2 id="对-hash-操作的命令"><a href="#对-hash-操作的命令" class="header-anchor">#</a> 对 Hash 操作的命令</h2> <ul><li>hset(key, field, value)：向名称为 key 的 hash 中添加元素 field</li> <li>hget(key, field)：返回名称为 key 的 hash 中 field 对应的 value</li> <li>hmget(key, (fields))：返回名称为 key 的 hash 中 field i 对应的 value</li> <li>hmset(key, (fields))：向名称为 key 的 hash 中添加元素 field</li> <li>hincrby(key, field, integer)：将名称为 key 的 hash 中 field 的 value 增加 integer</li> <li>hexists(key, field)：名称为 key 的 hash 中是否存在键为 field 的域</li> <li>hdel(key, field)：删除名称为 key 的 hash 中键为 field 的域</li> <li>hlen(key)：返回名称为 key 的 hash 中元素个数</li> <li>hkeys(key)：返回名称为 key 的 hash 中所有键</li> <li>hvals(key)：返回名称为 key 的 hash 中所有键对应的 value</li> <li>hgetall(key)：返回名称为 key 的 hash 中所有的键（field）及其对应的 value</li></ul> <h2 id="redis-sentinel"><a href="#redis-sentinel" class="header-anchor">#</a> Redis Sentinel</h2> <ul><li>ping ：返回 pong</li> <li>sentinel masters ：列出所有被监视的主服务器，以及这些主服务器的当前状态。</li> <li>sentinel slaves：列出给定主服务器的所有从服务器，以及这些从服务器的当前状态。</li> <li>sentinel get-master-addr-by-name：返回给定名字的主服务器的 IP 地址和端口号。如果这个主服务器正在执行故障转移操作，或者针对这个主服务器的故障转移操作已经完成，那么这个命令返回新的主服务器的 IP 地址和端口号。</li> <li>sentinel reset：重置所有名字和给定模式 pattern 相匹配的主服务器。pattern 参数是一个 Glob 风格的模式 重置操作清楚主服务器目前的所有状态，包括正在执行中的故障转移，并移除目前已经发现和关联的，主服务器的所有从服务器和 Sentinel 。</li> <li>sentinel failover：当主服务器失效时，在不询问其他 Sentinel 意见的情况下，强制开始一次自动故障迁移（不过发起故障转移的 Sentinel 会向其他 Sentinel 发送一个新的配置，其他 Sentinel 会根据这个配置进行相应的更新）。</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后编辑时间:</span> <span class="time">12/24/2020, 3:33:40 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/curiousness/openvpn的ip切换.html" class="prev">
        openvpn的ip切换
      </a></span> <span class="next"><a href="/curiousness/redis集群.html">
        redis集群
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.27b2d4ce.js" defer></script><script src="/assets/js/4.9a9f6078.js" defer></script><script src="/assets/js/53.012a446d.js" defer></script>
  </body>
</html>
